<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Platformer Game with Spikes</title>
<style>
  canvas {
    border: 2px solid black;
    display: block;
    margin: 0 auto;
  }
</style>
</head>
<body>
<canvas id="gameCanvas" width="800" height="400"></canvas>
<script>
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');

  const player = {
    x: 50,
    y: canvas.height - 50,
    width: 50,
    height: 50,
    velocityX: 0,
    velocityY: 0,
    speed: 5,
    jumpStrength: 10,
    grounded: false,
    jumping: false,
    draw: function() {
      ctx.fillStyle = 'blue';
      ctx.fillRect(this.x, this.y, this.width, this.height);
    },
    update: function() {
      // Apply gravity
      if (!this.grounded) {
        this.velocityY += 0.5;
      }

      // Update position
      this.x += this.velocityX;
      this.y += this.velocityY;

      // Check collision with floor
      if (this.y + this.height >= canvas.height) {
        this.y = canvas.height - this.height;
        this.velocityY = 0;
        this.grounded = true;
        this.jumping = false;
      }

      // Check collision with platforms (in this example, only one platform)
      if (this.x + this.width >= 200 && this.x <= 400 && this.y + this.height >= 250) {
        this.y = 250 - this.height;
        this.velocityY = 0;
        this.grounded = true;
        this.jumping = false;
      } else {
        this.grounded = false;
      }

      // Check collision with spikes
      if (this.x < 500 && this.x + this.width > 500 && this.y + this.height > canvas.height - 30) {
        gameOver();
      }
    },
    moveLeft: function() {
      this.velocityX = -this.speed;
    },
    moveRight: function() {
      this.velocityX = this.speed;
    },
    jump: function() {
      if (this.grounded && !this.jumping) {
        this.velocityY = -this.jumpStrength;
        this.jumping = true;
        this.grounded = false;
      }
    },
    stop: function() {
      this.velocityX = 0;
    }
  };

  function drawPlatform(x, y, width, height) {
    ctx.fillStyle = 'green';
    ctx.fillRect(x, y, width, height);
  }

  function drawSpikes(x, y, width, height) {
    ctx.fillStyle = 'red';
    ctx.beginPath();
    ctx.moveTo(x + width / 2, y);
    ctx.lineTo(x, y + height);
    ctx.lineTo(x + width, y + height);
    ctx.closePath();
    ctx.fill();
  }

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw platforms
    drawPlatform(200, 250, 200, 20);

    // Draw spikes
    drawSpikes(500, canvas.height - 30, 50, 30);

    // Draw player
    player.draw();
  }

  function update() {
    player.update();

    draw();

    requestAnimationFrame(update);
  }

  function gameOver() {
    alert("Game Over!");
    document.location.reload();
  }

  // Keyboard input
  document.addEventListener('keydown', function(event) {
    if (event.key === 'ArrowLeft') {
      player.moveLeft();
    } else if (event.key === 'ArrowRight') {
      player.moveRight();
    } else if (event.key === 'ArrowUp') {
      player.jump();
    }
  });

  document.addEventListener('keyup', function(event) {
    if (event.key === 'ArrowLeft' || event.key === 'ArrowRight') {
      player.stop();
    }
  });

  update();
</script>
</body>
</html>
